// Debug script to check the keys from the TypeScript constants
// We'll convert the TypeScript export to JavaScript for testing

// Import the carbonation chart data manually from constants file
const CARBONATION_CHART = {
  "5.5": {"6": 1.95, "7": 2.05, "8": 2.14, "9": 2.24, "10": 2.34, "11": 2.44, "12": 2.53, "13": 2.63, "14": 2.73, "15": 2.83, "16": 2.93, "17": 3.02, "18": 3.12, "19": 3.22, "20": 3.32, "21": 3.41, "22": 3.51, "23": 3.61, "24": 3.71, "25": 3.8, "26": 3.9, "27": 4, "28": 4.1, "29": 4.19, "30": 4.29, "31": 4.39, "32": 4.49, "33": 4.59, "34": 4.68, "35": 4.78, "36": 4.88, "37": 4.98, "38": 5.07, "39": 5.17, "40": 5.27, "41": 5.37, "42": 5.46, "43": 5.56, "44": 5.66, "45": 5.76, "46": 5.86, "47": 5.95, "48": 6.05},
  "6": {"6": 1.92, "7": 2.01, "8": 2.11, "9": 2.21, "10": 2.3, "11": 2.4, "12": 2.49, "13": 2.59, "14": 2.69, "15": 2.78, "16": 2.88, "17": 2.98, "18": 3.07, "19": 3.17, "20": 3.26, "21": 3.36, "22": 3.46, "23": 3.55, "24": 3.65, "25": 3.74, "26": 3.84, "27": 3.94, "28": 4.03, "29": 4.13, "30": 4.23, "31": 4.32, "32": 4.42, "33": 4.51, "34": 4.61, "35": 4.71, "36": 4.8, "37": 4.9, "38": 5, "39": 5.09, "40": 5.19, "41": 5.28, "42": 5.38, "43": 5.48, "44": 5.57, "45": 5.67, "46": 5.76, "47": 5.86, "48": 5.96, "49": 6.05},
  "12": {"6": 1.6, "7": 1.68, "8": 1.76, "9": 1.84, "10": 1.93, "11": 2.01, "12": 2.09, "13": 2.17, "14": 2.25, "15": 2.33, "16": 2.41, "17": 2.49, "18": 2.57, "19": 2.65, "20": 2.74, "21": 2.82, "22": 2.9, "23": 2.98, "24": 3.06, "25": 3.14, "26": 3.22, "27": 3.3, "28": 3.38, "29": 3.46, "30": 3.55, "31": 3.63, "32": 3.79, "33": 3.87, "34": 3.87, "35": 3.95, "36": 4.03, "37": 4.11, "38": 4.19, "39": 4.27, "40": 4.36, "41": 4.44, "42": 4.52, "43": 4.6, "44": 4.68, "45": 4.76, "46": 4.84, "47": 4.92, "48": 5, "49": 5.08, "50": 5.17, "51": 5.25, "52": 5.33, "53": 5.41, "54": 5.49, "55": 5.57, "56": 5.65, "57": 5.73, "58": 5.89, "59": 5.89, "60": 5.98, "61": 6.06},
  "25": {"6": 1.14, "7": 1.2, "8": 1.26, "9": 1.32, "10": 1.38, "11": 1.44, "12": 1.5, "13": 1.56, "14": 1.62, "15": 1.68, "16": 1.73, "17": 1.79, "18": 1.85, "19": 1.91, "20": 1.97, "21": 2.03, "22": 2.09, "23": 2.15, "24": 2.21, "25": 2.27, "26": 2.33, "27": 2.38, "28": 2.44, "29": 2.5, "30": 2.56, "31": 2.62, "32": 2.74, "33": 2.8, "34": 2.83, "35": 2.86, "36": 2.92, "37": 2.97, "38": 3.03, "39": 3.09, "40": 3.15, "41": 3.21, "42": 3.27, "43": 3.33, "44": 3.39, "45": 3.45, "46": 3.51, "47": 3.56, "48": 3.62, "49": 3.68, "50": 3.74, "51": 3.8, "52": 3.86, "53": 3.92, "54": 3.98, "55": 4.04, "56": 4.1, "57": 4.16, "58": 4.21, "59": 4.27, "60": 4.33, "61": 4.39, "62": 4.45, "63": 4.51, "64": 4.57, "65": 4.63, "66": 4.69, "67": 4.75, "68": 4.8, "69": 4.86, "70": 4.92, "71": 4.98, "72": 5.04, "73": 5.1, "74": 5.16, "75": 5.22, "76": 5.28, "77": 5.34, "78": 5.4, "79": 5.45, "80": 5.51, "81": 5.57, "82": 5.63, "83": 5.69, "84": 5.75, "85": 5.81, "86": 5.87, "87": 5.93, "88": 5.99, "89": 6.04},
  "30": {"6": 1.02, "7": 1.07, "8": 1.12, "9": 1.18, "10": 1.23, "11": 1.28, "12": 1.34, "13": 1.39, "14": 1.44, "15": 1.49, "16": 1.55, "17": 1.6, "18": 1.65, "19": 1.71, "20": 1.76, "21": 1.81, "22": 1.87, "23": 1.92, "24": 1.97, "25": 2.03, "26": 2.08, "27": 2.13, "28": 2.18, "29": 2.24, "30": 2.29, "31": 2.34, "32": 2.45, "33": 2.5, "34": 2.69, "35": 2.56, "36": 2.61, "37": 2.66, "38": 2.71, "39": 2.77, "40": 2.82, "41": 2.87, "42": 2.93, "43": 2.98, "44": 3.03, "45": 3.09, "46": 3.14, "47": 3.19, "48": 3.24, "49": 3.3, "50": 3.35, "51": 3.4, "52": 3.46, "53": 3.51, "54": 3.56, "55": 3.62, "56": 3.67, "57": 3.72, "58": 3.77, "59": 3.83, "60": 3.88, "61": 3.93, "62": 3.99, "63": 4.04, "64": 4.09, "65": 4.15, "66": 4.2, "67": 4.25, "68": 4.3, "69": 4.36, "70": 4.41, "71": 4.46, "72": 4.52, "73": 4.57, "74": 4.62, "75": 4.68, "76": 4.73, "77": 4.78, "78": 4.83, "79": 4.89, "80": 4.94, "81": 4.99, "82": 5.05, "83": 5.1, "84": 5.15, "85": 5.2, "86": 5.26, "87": 5.31, "88": 5.36, "89": 5.42, "90": 5.47},
  "32.5": {"6": 0.96, "7": 1.01, "8": 1.06, "9": 1.11, "10": 1.16, "11": 1.21, "12": 1.26, "13": 1.31, "14": 1.36, "15": 1.41, "16": 1.46, "17": 1.52, "18": 1.57, "19": 1.62, "20": 1.67, "21": 1.72, "22": 1.77, "23": 1.82, "24": 1.87, "25": 1.92, "26": 1.97, "27": 2.02, "28": 2.07, "29": 2.12, "30": 2.17, "31": 2.22, "32": 2.32, "33": 2.37, "34": 2.64, "35": 2.42, "36": 2.47, "37": 2.52, "38": 2.57, "39": 2.62, "40": 2.67, "41": 2.72, "42": 2.77, "43": 2.82, "44": 2.87, "45": 2.92, "46": 2.97, "47": 3.02, "48": 3.08, "49": 3.13, "50": 3.18, "51": 3.23, "52": 3.28, "53": 3.33, "54": 3.38, "55": 3.43, "56": 3.48, "57": 3.53, "58": 3.58, "59": 3.63, "60": 3.68, "61": 3.73, "62": 3.78, "63": 3.83, "64": 3.88, "65": 3.93, "66": 3.98, "67": 4.03, "68": 4.08, "69": 4.13, "70": 4.18, "71": 4.23, "72": 4.28, "73": 4.33, "74": 4.38, "75": 4.43, "76": 4.48, "77": 4.53, "78": 4.58, "79": 4.64, "80": 4.69, "81": 4.74, "82": 4.79, "83": 4.84, "84": 4.89, "85": 4.94, "86": 4.99, "87": 5.04, "88": 5.09, "89": 5.14, "90": 5.19}
};

// Generate keys the same way as the constants file
const TEMPERATURE_KEYS = Object.keys(CARBONATION_CHART)
  .map(Number)
  .sort((a, b) => a - b);

const PRESSURE_KEYS = Object.keys(CARBONATION_CHART[TEMPERATURE_KEYS[0].toString()])
  .map(Number)
  .sort((a, b) => a - b);

console.log('=== TYPESCRIPT CONSTANTS ANALYSIS ===\n');

console.log('TEMPERATURE_KEYS generated:');
console.log('Length:', TEMPERATURE_KEYS.length);
console.log('Values:', TEMPERATURE_KEYS);

console.log('\nPRESSURE_KEYS generated:');
console.log('Length:', PRESSURE_KEYS.length);
console.log('Values:', PRESSURE_KEYS.slice(0, 15), '...', PRESSURE_KEYS.slice(-10));

// Test the exact match function
function hasExactMatch(value, keys) {
  return keys.includes(value);
}

const calculateVolCO2 = (pressure, temperature) => {
  if (hasExactMatch(temperature, TEMPERATURE_KEYS) && hasExactMatch(pressure, PRESSURE_KEYS)) {
    const volCO2 = CARBONATION_CHART[temperature.toString()]?.[pressure.toString()];
    return volCO2 !== undefined ? volCO2 : null;
  }
  return null;
};

console.log('\n=== TESTING PROBLEMATIC VALUES ===');
const testCases = [
  { temp: 6, pressure: 7, expected: 2.01 },
  { temp: 12, pressure: 25, expected: 3.14 },
  { temp: 5.5, pressure: 6, expected: 1.95 },
  { temp: 25, pressure: 60, expected: 4.33 },
  { temp: 30, pressure: 80, expected: 4.94 },
  { temp: 32.5, pressure: 90, expected: 5.19 }
];

testCases.forEach(({ temp, pressure, expected }) => {
  const tempExists = hasExactMatch(temp, TEMPERATURE_KEYS);
  const pressureExists = hasExactMatch(pressure, PRESSURE_KEYS);
  const result = calculateVolCO2(pressure, temp);
  
  console.log(`\nTemp ${temp}, Pressure ${pressure}:`);
  console.log(`  - Temp exists in keys: ${tempExists}`);
  console.log(`  - Pressure exists in keys: ${pressureExists}`);
  console.log(`  - Expected: ${expected}, Got: ${result}, Match: ${result === expected}`);
});